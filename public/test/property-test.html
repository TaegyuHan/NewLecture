<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // syntactic suga
        // ES6 객체지향
        class Animal {
            constructor(name) {
                this.name = name;
            }
        }

        let dog = new Animal('dog');
        console.log(dog);

        // ES5 객체지향
        function AnimalFuc(name) {
            this.name = name;
        }

        let cat = new AnimalFuc('cat');
        console.log(cat);

        // 프로토 타입 메소드를 사용 안한 경우
        function Dog(name) {
            this.name = name;
            this.bark = function() {
                console.log('bark');
            }
        }

        let dog1 = new Dog('dog1');
        let dog2 = new Dog('dog2');
        console.log(dog1.bark === dog2.bark); // false

        // 프로토 타입 메소드를 사용한 경우
        function Dog2(name) {
            this.name = name;
        }

        Dog2.prototype.bark = function() {
            console.log('bark');
        }

        let dog3 = new Dog2('dog3');
        let dog4 = new Dog2('dog4');
        console.log(dog3.bark === dog4.bark); // true

        // 생성자 함수 사용 방법
        function Person(name, age) {
            this.name = name;
            this.age = age;
        }

        // 생성자 함수로 사용 (올바른 방법)
        const person1 = new Person("Alice", 30);
        console.log(person1);

        // 일반 함수로 사용 (this는 전역 객체 또는 undefined를 가리킴)
        Person("Bob", 25);
        console.log(window.name); // Bob

        // 전역 함수 선언 확인
        function greet() {
            console.log("Hello");
        }

        // 함수 표현식
        var greett = function() {
            console.log("Hello");
        }

        // 확인
        console.log(window.greet === greet); // true
        console.log(window.greett === greett); // false

        // getter, setter
        class Car0 {
            constructor(name) {
                this._name = name;
            }

            get name() {
                return this._name;
            }

            set name(value) {
                this._name = value;
            }
        }
        console.log(new Car0('hello'));

        var Car1 = {
            _name: 'hello',
            get name() {
                return this._name;
            },
            set name(value) {
                this._name = value;
            }
        }
        console.log(Car1);

        // 프로토타입 체인 확인
        class MyClass {
            constructor(value) {
                this.value = value;
            }

            myMethod() {
                console.log(this.value);
            }
        }

        const instance = new MyClass(42);
        console.log(instance.__proto__ === MyClass.prototype); // true
        console.log(instance.__proto__.__proto__ === Object.prototype); // true

    </script>
</body>
</html>