<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <script>
        // alert('Hello, JavaScript ES5');
    </script>

    <script>
        // 배열
        var nums = new Array();
        nums[0] = 10;
        nums[1] = 20;
        nums[2] = 30;

        console.log(nums[0]);
        console.log(nums[1]);
        console.log(nums);
        console.log(nums.length);

        console.log(typeof nums[0]); // typeof는 기본 자료형을 확인할 때 사용

        var num = new Array(5, 10, 1, 21, 'hello', 'world', new Array(1, 2, 3));
        console.log(num.indexOf(6)[1]);

        var nums = new Array();
        nums.push(10);
        nums.push(20);
        console.log(nums);

        var n1 = nums.pop();
        console.log(n1);

        var nums = new Array(1, 2, 3, 4, 5);
        nums.push(6);
        console.log(nums);
        console.log(nums.shift());
        console.log(nums.shift());
        console.log(nums.shift());
        console.log(nums.shift());

        nums.unshift(1); // 데이터 뒤로 추가
        nums.unshift(2);

        var nums = new Array(1, 2, 3, 4, 5);
        nums.splice(2, 0, 10, 20, 30); // 2번째 인덱스에 10, 20, 30 추가
        console.log(nums);

        // 컴파일러가 없는게 문제이다.
    </script>

    <script>
        var exam = new Object();
        exam.name = '홍길동';
        exam.age = 20;
        console.log(exam);
        console.log(exam.name);
        console.log(exam['name']);
        console.log(exam.eng);

        console.log(exam);
        delete exam.name;
        console.log(exam);
        // console.log(exam.name);
        // js를 모르면 함정에 빠진다.. 그래서 js를 잘 알아야 한다.

        var arr = []; // new Array();
        var obj = {}; // new Object();
        var str = ''; // new String();
        var num = 0; // new Number();
        var bool = true; // new Boolean();
        var fun = function() {}; // new Function();

    </script>

    <script>

        var notices = [
            {id: 1, title: "공지사항입니다.", writerId: 1, regDate: '2021-01-01', hit: 0},
            {id: 2, title: "다음 공지사항입니다.", writerId: 1, regDate: '2021-01-02', hit: 0},
            {id: 3, title: "그 다음 공지사항입니다.", writerId: 1, regDate: '2021-01-03', hit: 0},
        ];

        console.log(notices[0].title);

    </script>

    <script>
        // 파씽
        var code = "var x = 30;";
        eval(code);
        console.log(x);

        // eval은 코드를 실행시키는 함수
        var json = '{"id": 1, "title": "공지사항입니다.", "writerId": 1, "regDate": "2021-01-01", "hit": 0}';
        var obj = eval('(' + json + ')'); // 사용하지 않는 것이 좋다.
        console.log(obj.title);

        var obj = JSON.parse(json); // 이렇게 사용한다.
        console.log(obj.title);

        var obj = {id: 1, title: "공지사항입니다.", writerId: 1, regDate: '2021-01-01', hit: 0};
        var json = JSON.stringify(obj);
        console.log(typeof json);
    </script>

    <script>
        var x = 3;
        var y = 3;
        console.log('3' + 1);
        console.log(3 == '3'); // true
        console.log(x === y); // false
        console.log([] == 0); // true

        console.log(undefined == null); // true
        console.log(undefined === null); // false

        console.log(3 <= '4'); // true
        console.log(3 <= '10'); // true

        console.log([] == '0'); // false

        console.log(3.5 - "2"); // 1.5
        console.log("32" > "4"); // false
        console.log("32" > 4); // true

        console.log("" == true); // false
        console.log({} == true); // false
        console.log([] == true); // false
    </script>

    <script>
        // var kor = prompt("국어 성적을 입력하세요.");

        var result = kor || 10;
        result = result + 2;
        console.log(result);

        // and 연산자
        var kor = 10;
        var eng = 20;
        var math = 30;

        var result = kor && eng && math;
        // or 연산자
        var result = kor || eng || math;

        // NaN 을 알고 있자.
        // NaN은 비교연산을 진행할 수 없다.

        {
            var a = 3 * 'a';
            console.log(a);
            console.log(isNaN(a));
            var b = Number.MAX_SAFE_INTEGER * 200;
            console.log(b);
            console.log(isFinite(b));
        }

        // for-in, for-of
        // c.length // 배열의 길이라서 문제가 발생할 수 있다.
        var list = [1, 2, 3, 4, 5];
        for (var i = 0; i < list.length; i++) {
            console.log(list[i]);
        }

        for (var i in list) { // 배열에서 참 값을 가져온다.
            console.log(list[i]);
        }

        for (var v of list) { // 컬랙션만 가능하다.
            console.log(v);
        }

        // 객체
        var items = {name : '홍길동', age : 20}
        for (var key in items) { // 객체에서 키 값을 가져온다.
            console.log(key + ' : ' + items[key]);
        }

    </script>

    <script>
        // 함수는 메모리가 만드는 것인가??
        // 함수는 정의하는 것이 아닌가???
        var add = new Function('x', 'y', 'return x + y');
        console.log(add(10, 20));

        var add = function(x, y) {
            return x + y;
        }

        // 이렇게 변경 되었다.
        function add(x, y) {
            return x + y;
        }
        // 어떤 것을 사용하든 상관없다.

        function add(x, y) {
            return arguments[0] + arguments[1];
        }

        var sum = add(10, 20);
        console.log(sum);
        var sum = add(10, 21, 30, 40);
        console.log(sum);

        function add() {
            console.log("test");
            return arguments[0] + arguments[2];
        }

        console.log(add(10, 20));

        // 변수 가시영역
        console.log(window);
        console.log(al=1, al);
        console.log(window);

        // console.log("test2", test2);
        console.log("test1", test1);
        var test1 = 10;

        // hoist: 깃발을 세우다.
        // 변수 선언을 위로 끌어올린다.
        // 변수 충돌의 위험이 있다.

        // 규모가 큰 프로젝트에서는 지옥을 볼 수 있다.
        // ES6에서는 지역화가 들어간다.

        var f1 = function() {
            a = 1;
            console.log(window.a);
            var a;
            console.log(a);
        }
        f1();
        console.log(f1);
        console.log(window);

        // 전역변수는 window를 사용하고
        // 유도리를 최대한 줄이는 것이 좋다.
        var a = 10;
        var a = 20;
        // alert(a);

        // 클로저 (종료: 객체의 종료를 의미한다.)
        // outer 변수

    </script>
</head>
<body>
    <h1>JavaScript ES5</h1>
</body>
</html>